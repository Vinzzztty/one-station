<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>One Station</title>
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
            crossorigin="anonymous"
        />
        <link rel="apple-touch-icon" sizes="180x180" href="assets/img/illustrations/logowhite.png">
        <link rel="icon" type="image/png" sizes="32x32" href="assets/img/illustrations/logowhite.png">
        <link rel="icon" type="image/png" sizes="16x16" href="assets/img/illustrations/logowhite.png">
        <link rel="shortcut icon" type="image/x-icon" href="assets/img/illustrations/logowhite.png">
        <link rel="manifest" href="assets/img/favicons/manifest.json">
        <meta name="msapplication-TileImage" content="assets/img/illustrations/logonew.png">
        <meta name="theme-color" content="#ffffff">
        <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" />
        <link
            href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap"
            rel="stylesheet"
        />
        <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css"
        />

        <link rel="stylesheet" href="assets/css/blog.css" />
        <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    </head>
    <body>
        <section class="navbar mb-5 pb-3">
            <nav class="navbar navbar-expand-lg fixed-top py-3 glass-navbar">
                <div class="container">
                    <a
                        class="navbar-brand d-flex align-items-center fw-bold fs-2"
                        href="index.html"
                    >
                        <img
                            src="assets/img/illustrations/newlogo.png"
                            alt="Logo"
                            class="rounded-circle"
                            width="150"
                            height="50"
                        />
                    </a>
                    <button
                        class="navbar-toggler"
                        type="button"
                        data-bs-toggle="collapse"
                        data-bs-target="#navbarSupportedContent"
                        aria-controls="navbarSupportedContent"
                        aria-expanded="false"
                        aria-label="Toggle navigation"
                    >
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div
                        class="collapse navbar-collapse"
                        id="navbarSupportedContent"
                    >
                        <ul class="navbar-nav ms-auto">
                            <li class="nav-item">
                                <a
                                    class="nav-link fw-medium active"
                                    aria-current="page"
                                    href="index.html"
                                    >Home</a
                                >
                            </li>
                            <li class="nav-item">
                                <a
                                    class="nav-link fw-medium"
                                    href="service.html"
                                    >Services</a
                                >
                            </li>
                            <li class="nav-item">
                                <a class="nav-link fw-medium" href="#"
                                    >Case Studies</a
                                >
                            </li>
                            <li class="nav-item">
                                <a
                                    class="nav-link fw-medium"
                                    href="index.html#whoweare"
                                    >Who We Are</a
                                >
                            </li>
                            <!-- <li class="nav-item">
                                <a class="nav-link fw-medium" href="#faq"
                                    >Insight</a
                                >
                            </li> -->
                        </ul>
                        <form class="d-flex ms-lg-3 mt-3 mt-lg-0">
                            <a
                                href="http://wa.me/6285155424787"
                                class="btn btn-lg rounded-pill glass-btn"
                            >
                                CONTACT US
                            </a>
                        </form>
                    </div>
                </div>
            </nav>
        </section>
        
        <section class="blog-section mt-4 mb-3 pt-4">
            <div class="row justify-content-center">
                <div class="col-lg-8 text-center mx-auto mb-4 mb-md-5 mt-4">
                    <h2 class="mb-2 fw-bold text-highlight">All Blog Posts</h2>
                </div>
            </div>
            <div class="container mt-2">
                <div
                    id="blogPosts"
                    class="row row-cols-1 row-cols-md-2 g-4"
                ></div>
            </div>
        </section>

        <section class="footer mt-5">
            <div class="container">
                <div class="row mb-4">
                    <div class="col-md-6">
                        <a
                            href="#"
                            class="d-flex align-items-center text-decoration-none fw-bold fs-3"
                        >
                            <img
                                src="assets/img/illustrations/newlogo.png"
                                alt="Logo"
                                class="footer-logo"
                            />
                        </a>
                    </div>
                    <div class="col-md-6 text-md-end">
                        <ul class="list-unstyled list-inline mb-0">
                            <li class="list-inline-item me-3">
                                <a
                                    class="text-dark text-decoration-none"
                                    href="#!"
                                    >Home</a
                                >
                            </li>
                            <li class="list-inline-item me-3">
                                <a
                                    class="text-dark text-decoration-none"
                                    href="#!"
                                    >Services</a
                                >
                            </li>
                            <li class="list-inline-item me-3">
                                <a
                                    class="text-dark text-decoration-none"
                                    href="#!"
                                    >Case Studies</a
                                >
                            </li>
                            <li class="list-inline-item me-3">
                                <a
                                    class="text-dark text-decoration-none"
                                    href="#!"
                                    >Who We Are</a
                                >
                            </li>
                            <li class="list-inline-item me-3">
                                <a
                                    class="text-dark text-decoration-none"
                                    href="#!"
                                    >Insight</a
                                >
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <p class="text-muted">
                            Â© 2024 One Station. All rights reserved.
                        </p>
                    </div>
                    <div class="col-md-6 text-md-end">
                        <ul class="list-unstyled list-inline social-links">
                            <li class="list-inline-item me-3">
                                <a href="#!" class="text-dark">
                                    <i class="bi bi-facebook"></i>
                                </a>
                            </li>
                            <li class="list-inline-item me-3">
                                <a href="#!" class="text-dark">
                                    <i class="bi bi-twitter"></i>
                                </a>
                            </li>
                            <li class="list-inline-item me-3">
                                <a href="#!" class="text-dark">
                                    <i class="bi bi-hash"></i>
                                </a>
                            </li>
                            <li class="list-inline-item me-3">
                                <a href="#!" class="text-dark">
                                    <i class="bi bi-instagram"></i>
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
            crossorigin="anonymous"
        ></script>
        <!-- Nabar Scroll effect -->
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                var navbar = document.querySelector(".glass-navbar");
                window.addEventListener("scroll", function () {
                    if (window.scrollY > 50) {
                        navbar.classList.add("scrolled");
                    } else {
                        navbar.classList.remove("scrolled");
                    }
                });
            });
        </script>

        <script>
            async function fetchBlogPosts() {
                try {
                    // Fetching data from the API
                    const response = await axios.get(
                        "https://be-company-profile-pieter.vercel.app/api"
                    );
                    console.log("Response data:", response.data); // Log for debugging

                    // Access the 'data' array from the response
                    const posts = response.data.data || [];

                    // Handle case where there are no posts
                    if (posts.length === 0) {
                        document.getElementById("blogPosts").innerHTML = `
                        <div class="alert alert-warning">No blog posts found.</div>
                    `;
                        return;
                    }

                    // Reference to the container for blog posts
                    const blogContainer = document.getElementById("blogPosts");
                    blogContainer.innerHTML = ""; // Clear any previous content

                    // Loop through and display each post
                    posts.forEach((post) => {
                        const postElement = document.createElement("div");
                        postElement.classList.add("col");
                        postElement.innerHTML = `
                        <div class="card mb-4 shadow-sm h-100">
                            <img src="${
                                post.thumbnail || "placeholder.jpg"
                            }" class="card-img-top" alt="Thumbnail">
                            <div class="card-body">
                                <h5 class="card-title">${post.title}</h5>
                                <p class="card-text">${post.content.substring(
                                    0,
                                    150
                                )}...</p>
                                <p class="text-muted">Tags: ${post.tags.join(
                                    ", "
                                )}</p>
                                <a href="detail_blog.html?id=${
                                    post._id
                                }" class="btn btn-primary">Read More</a>
                            </div>
                        </div>
                    `;
                        blogContainer.appendChild(postElement);
                    });
                } catch (error) {
                    // Log any errors and display a user-friendly message
                    console.error("Error fetching blog posts:", error);
                    document.getElementById("blogPosts").innerHTML = `
                    <div class="alert alert-danger">Failed to load blog posts. Please try again later.</div>
                `;
                }
            }

            // Trigger fetching of blog posts when the page loads
            document.addEventListener("DOMContentLoaded", fetchBlogPosts);
        </script>
    </body>
</html>
